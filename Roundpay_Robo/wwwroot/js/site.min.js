"use strict"; var page = "/", MessageBoxType = { SUCCESS: 1, FAILED: 2, ACCEPT: 3, REJECT: 4, INCOMPLETE: 5, UNAUTHORISED: 6, UNDERSCREENING: 7, SERVICEDOWN: 8 }, UPIName = { apl: "Amazon Pay App", allbank: "BHIM ALLBANK UPI", axisbank: "Axis Pay", axl: "Phone-Pe", BARODAMPAY: "Baroda Pay", citi: "Citi Mobile APP", citigold: "Citi Mobile APP", dbs: "DigiBank - DBS APP", federal: "BHIM Lotza UPI", freecharge: "Freecharge", hsbc: "HSBC Simply Pay", ibl: "Phone-Pe", icici: "iMobile - ICICI Bank", idfcfirst: "IDFC First", indus: "IndusPay", kotak: "Kotak Mobile Banking App", okaxis: "Google Pay", okhdfcbank: "Google Pay", okicici: "Google Pay", oksbi: "Google Pay", paytm: "Paytm App", rbl: "RBL Pay", sbi: "SBIPay", sib: "SIB Mirror", upi: "BHIM APP", ybl: "Phone-Pe", yesbank: "YES PAY" }, LogoutKey = "redirectToLogin", btnLoadingClass = '<i class="fas fa-circle-notch fa-spin"></i> ', Logout = function (t, e, a) { $.post("/Logout", { ULT: t, UserID: e, SType: a }, function (t) { resultReload(t), t.statuscode === an.type.success ? (sessionStorage.clear(), reload()) : (an.title = "Oops", an.content = t.msg, an.alert(an.type.failed)) }).fail(t => { an.title = "Oops", an.content = 0 === t.status ? "Internet Connection was broken" : "Server error", an.alert(an.type.failed) }).always(() => preloader.remove()) }, larr = location.href.split("/"), loc = location.href.split("#")[0], reload = () => location.href = loc, resultReload = function (t) { try { if (void 0 !== t && (t.indexOf("login.js") > -1 || t.indexOf(LogoutKey) > -1)) return reload(), !0 } catch (t) { } return !1 }, setInfo = function (t) { $("#UINFO button.dropdown-toggle").html(t.name), $("#UINFO span.dropdown-item-text").html(t.outletName), $("#UINFO span.dropdown-item-text").attr("data-item-mobile", t.mobileNo) }; function isUrlExists(t, e) { $.ajax({ url: t, dataType: "text", type: "GET", complete: function (t) { "function" == typeof e && e.apply(this, [t.status]) } }) } var btnLdr = { removeClass: "", addClass: "", StartWithAnyText: function (t, e, a) { !0 === a && t.attr("original-text", t.html()), t.html(btnLoadingClass + e), t.removeClass(this.removeClass).addClass(this.addClass) }, StopWithText: function (t, e) { t.html(e), t.removeClass(this.addClass).addClass(this.removeClass) }, Start: function (t, e) { t.attr("original-text", t.html()), t.html(btnLoadingClass + e), t.removeClass(this.removeClass).addClass(this.addClass) }, Stop: function (t) { t.html(t.attr("original-text")), t.removeClass(this.addClass).addClass(this.removeClass) } }, alertContent = { title: "", content: "", color: { green: "alert-success", red: "alert-danger", blue: "alert-info", warning: "alert-warning" }, linkClass: "alert-link", type: { failed: -1, warning: 0, success: 1, info: 2 }, parent: $("#alertmsg"), id: "alert", div: '<div id={id} class="alert {color} alert-dismissible fade" role="alert">\n            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n            <span aria-hidden="true">&times;</span></button>\n            <h4 class="alert-heading">{title}</h4 >\n            <p>{content}</p>\n          </div>', alert: function (t) { var e = this.color.blue; t === this.type.success ? e = this.color.green : t === this.type.failed ? e = this.color.red : t === this.type.warning && (e = this.color.warning), this.parent.html(this.div.replace("{id}", this.id).replace("{title}", this.title).replace("{content}", this.content).replace("{color}", e)), this.show() }, close: function () { $("#" + this.id).removeClass("show") }, show: function () { $("#" + this.id).addClass("show") } }, alertNormal = { title: "", content: "", color: { green: "alert-success", red: "alert-danger", blue: "alert-info", warning: "alert-warning" }, tcolor: { green: "text-success", red: "text-danger", blue: "text-info", warning: "text-warning" }, linkClass: "alert-link", iclass: { failed: "fas fa-times-circle", warning: "fas fa-exclamation-triangle", success: "fas fa-check-circle", info: "fas fa-info-circle" }, type: { failed: -1, warning: 0, success: 1, info: 2 }, rtype: { rechPend: 1, rechSucc: 2, rechFail: 3, rechRef: 4 }, parent: $("#alertmsg"), id: "alert", div: '<div id={id} class="alert {color} alert-dismissible fade position-fixed alert-custom r-t" role="alert">\n            <strong><i class="{iclass}"></i> {title}!</strong> {content}\n            <button type="button" class= "close pr-2" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button >\n          </div>', alert: function (t) { var e = this.color.blue; t === this.type.success || t === this.type.rechSucc ? e = this.color.green : t === this.type.failed || t === this.type.rechFail ? e = this.color.red : t !== this.type.warning && t !== this.type.rechPend || (e = this.color.warning); var a = this.iclass.info; t === this.type.success || t === this.type.rechSucc ? a = this.iclass.success : t === this.type.failed || t === this.type.rechFail ? a = this.iclass.failed : t !== this.type.warning && t !== this.type.rechPend || (a = this.iclass.warning), this.parent.html(this.div.replace("{id}", this.id).replace("{title}", this.title).replace("{content}", this.content).replace("{color}", e).replace("{iclass}", a)), this.show(); let n = this; n.autoClose > 0 && setTimeout(function () { n.remove() }, 1e3 * n.autoClose) }, ralert: function (t) { var e = this.color.blue; t === this.type.rechSucc ? e = this.color.green : t === this.type.rechFail ? e = this.color.red : t === this.type.rechPend && (e = this.color.warning); var a = this.iclass.info; t === this.type.rechSucc ? a = this.iclass.success : t === this.type.rechFail ? a = this.iclass.failed : t === this.type.rechPend && (a = this.iclass.warning), this.parent.html(this.div.replace("{id}", this.id).replace("{title}", this.title).replace("{content}", this.content).replace("{color}", e).replace("{iclass}", a)), this.show(), this.autoClose > 0 && setTimeout(function () { alertNormal.close() }, 1e3 * this.autoClose) }, getColor: function (t) { var e = this.color.blue; return t === this.rtype.rechSucc ? e = this.color.green : t === this.rtype.rechFail ? e = this.color.red : t === this.rtype.rechPend && (e = this.color.warning), e }, getTColor: function (t) { var e = this.color.blue; return t === this.rtype.rechSucc ? e = this.tcolor.green : t === this.rtype.rechFail ? e = this.tcolor.red : t === this.rtype.rechPend && (e = this.tcolor.warning), e }, close: function () { $("#" + this.id).removeClass("show") }, show: function () { $("#" + this.id).addClass("show") }, autoClose: 0, remove: function () { $("#" + this.id).remove() } }, modalAlert = { title: "", content: "", confirmContent: "<h5>Are you sure?</h5>", parent: $("body"), id: "mymodal", size: { small: "modal-sm", large: "modal-lg", xlarge: "modal-xl", xxlarge: "modal-xxl", xxlargeM: "modal-xxl-m", auto: "modal-auto", default: "" }, bodyCls: "", div: '<div class="modal fade" id={id} tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">\n            <div class= "modal-dialog modal-dialog-centered" role="document"><div class="modal-content">\n                <div class="modal-header">\n                    <h5 class="modal-title"></h5>\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                </div>\n                <div class="modal-body"></div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n                    <button type="button" class="btn btn-primary">Save changes</button>\n                </div>\n                </div>\n            </div>\n          </div>', divAlert: '<div class="modal fade" id={id} tabindex="-1" role="dialog" aria-hidden="true"><div class= "modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-body {bodyCls}"></div></div></div></div >', show: function (t, e) { var a = this.id; this.parent.append(this.div.replace("{id}", a)), $("#" + a + " .modal-title").html(this.title), $("#" + a + " .modal-body").html(this.content), $("#" + a + " .modal-dialog").addClass(t), $("#" + a).modal(this.options) }, alert: function (t) { var e = this.id; this.parent.append(this.divAlert.replace("{id}", e).replace("{bodyCls}", this.bodyCls)), $("#" + e + " .modal-body").html(this.content), $("#" + e + " .modal-dialog").addClass(t), $("#" + e).modal(this.options) }, isHeaderBorder: !0, headerClass: "h5", callBack: "", modal: function (t, e) { var a = `<div class="modal fade" id="${this.id}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">\n            <div class= "modal-dialog modal-dialog-centered ${t}" role="document">\n                <div class="modal-content">\n                    <div class="${this.isHeaderBorder ? "modal-header" : "pl-3 pr-3 mt-2"} custome">\n                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                        <h3 class="${this.headerClass} modal-title">${"" === this.title ? "Alert" : this.title}</h3> \n                    </div>\n                    <div class="modal-body">${this.content}</div>\n                </div>\n            </div>\n          </div>`; this.parent.append(a), $(`#${this.id}`).modal(this.options), $(`#${this.id}`).find("button.close").unbind().click(() => { mdlA.dispose(), void 0 !== e && e() }) }, reset: function () { this.isHeaderBorder = !0, this.title = "", this.headerClass = "h5", this.bodyCls = "" }, options: { backdrop: "static", keyboard: !0, focus: !0, show: !0 }, dispose: function (t) { this.reset(); var e = this.id; $("#" + e + ",.modal-backdrop:last").fadeOut("slow", function () { $(this).remove() }), $("#" + e + " .modal-content:last").animate({ opacity: 0 }, 500, function (e) { $("body").removeClass("modal-open").removeAttr("style"), void 0 !== t && t() }) }, anim: function (t) { $("#" + this.id + " .modal-content").animate({ opacity: 0 }, t), $("#" + this.id + " .modal-content").animate({ opacity: 1 }, t) }, confirm: function () { return `<div class="col-md-12" id="dvpopup">\n                    <button type = "button" class="close" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                    ${this.confirmContent}\n                    <div class="form-group">\n                        <button class="btn btn-outline-success mr-2" id="btnOK">Yes</button>\n                        <button class="btn btn-outline-danger" id="mdlCancel">No</button>\n                    </div>\n                </div>` } }, modalStack = { title: "", content: "", confirmContent: "", parent: $("body"), id: "mystack", size: { small: "modal-sm", large: "modal-lg", xlarge: "modal-xl", xxlarge: "modal-xxl", default: "" }, div: '<div class="modal fade" id={id} tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true"><div class= "modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button><button type="button" class="btn btn-primary">Save changes</button></div></div></div></div >', divAlert: '<div class="modal fade" id={id} tabindex="-1" role="dialog" aria-hidden="true"><div class= "modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-body"></div></div></div></div >', show: function (t, e) { var a = this.id; this.parent.append(this.div.replace("{id}", a)), $("#" + a + " .modal-title").html(this.title), $("#" + a + " .modal-body").html(this.content), $("#" + a + " .modal-dialog").addClass(t), $("#" + a).modal(this.options) }, alert: function (t) { var e = this.id; this.parent.append(this.divAlert.replace("{id}", e)), $("#" + e + " .modal-body").html(this.content), $("#" + e + " .modal-dialog").addClass(t), $("#" + e).modal(this.options) }, options: { backdrop: !0, keyboard: !0, focus: !0, show: !0 }, dispose: function (t) { var e = this.id; $("#" + e + " .modal-content").animate({ opacity: 0 }, 500, function () { $("#" + e + ",.modal-backdrop").remove(), $("body").removeClass("modal-open").removeAttr("style"), void 0 !== t && t() }) }, disposeConfirm: function (t) { var e = this.id; $("#" + e + " .modal-content").animate({ opacity: 0 }, 500, function () { $("#" + e).remove() }) }, anim: function (t) { $("#" + this.id + " .modal-content").animate({ opacity: 0 }, t), $("#" + this.id + " .modal-content").animate({ opacity: 1 }, t) }, confirm: function (t) { return `<div class="col-md-12" id="dvpopup">\n            <button type = "button" class="close" aria-label="Close">\n            <span aria-hidden="true">&times;</span></button>\n                ${t}\n            <div class="form-group"></div> <button class="btn btn-outline-success mr-2" id="btnOK">Yes</button>\n            <button class="btn btn-outline-danger" id="mdlCancel">No</button></div>` }, confirmStack: function (t, e) { return `<div class="col-md-12" id="${t}">\n                     ${e}\n                <div class="form-group"></div>\n                <button class="btn btn-outline-success mr-2" id="btnOK">Yes</button>\n                <button class="btn btn-outline-danger" id="mdlCancel${t}">No</button></div>` } }; function copyToClipboard(t) { var e = $("<input>"); $("body").append(e), e.val(t).select(), document.execCommand("copy"), e.remove() } function pasteAtControl(t, e) { var a = t[0].selectionStart, n = t.val(); t.val(n.substring(0, a) + e + n.substring(a)), t.focus() } var rel = function (t) { setTimeout(function () { reload() }, 1e3 * t) }, preloader = { load: () => $("body").append('<div class="loading">Loading&#8230;</div>'), remove: () => $(".loading").remove() }, $v = $validator, ac = alertContent, an = alertNormal, mdlA = modalAlert, mdlStk = modalStack; $(document).ready(function () { an.autoClose = 5, $(".dropdown-toggle").dropdown(), an.id = "myalert", $("#logout,#logoutAll").click(function () { var t = "logoutAll" === $(this).attr("id") ? 3 : 1; Logout(0, 0, t) }), $("#doctypemaster_minus1,#doctypemaster_plus1").click(function () { let t = 0; t = !(this.id.indexOf("_minus1") > -1), preloader.load(), $.post("/DocTypeMaster", { f: t }).done(e => { resultReload(e), $("#" + an.id).remove(), mdlA.id = "docalert", mdlA.content = e, mdlA.options.backdrop = "static", mdlA.alert(mdlA.size.xlarge), $("button.close span,#mdlCancel").click(() => mdlA.dispose()), $('[data-toggle="tooltip"]').tooltip(), $("[id^=isactservice_],[id^=txtTaxRemark_]").change(function () { an.autoClose = 5; let e = $(this).closest("tr").data().itemId, a = this.id.split("_")[1], n = $("#isactservice_" + a).prop("checked"), i = $("#txtTaxRemark_" + a).val(), o = { ID: e, DocName: "", IsOptional: n, Remark: i, ModifyDate: "", UserId: 0, StatusCode: 0, Description: "", IsOutlet: t ? 1 : -1 }; $.ajax({ type: "POST", url: "/UpdateDocTypeMaster", dataType: "json", contentType: "application/json", data: JSON.stringify(o), success: function (t) { resultReload(t), an.title = t.statuscode === an.type.success ? "Success" : "Oops", an.content = t.msg, an.alert(t.statuscode), t.statuscode === an.type.success && ($('[data-item-id="' + e + '"] [data-toggle="tooltip"]').attr("data-original-title", "Last Modified: Just Now!"), mdlA.anim(300)) }, error: function (t, e) { checkError(e), an.title = "Oops! Error", an.content = 404 === t.status ? "Requested path not find" : 0 === t.status ? "Internet is not connected" : "Server error", an.alert(an.type.failed) }, complete: () => preloader.remove() }) }) }).fail(t => { an.title = "Oops", an.content = 0 === t.status ? "Internet Connection was broken" : "Server error", an.alert(an.type.failed) }).always(() => preloader.remove()) }), $("#invoiceSet").click(function () { preloader.load(), $.post("/InvoiceSetting").done(t => { resultReload(t), $("#" + an.id).remove(), mdlA.id = "invoiceAlert", mdlA.content = t, mdlA.options.backdrop = "static", mdlA.alert(mdlA.size.default), $("button.close span,#mdlCancel").click(() => mdlA.dispose()), $('[data-toggle="tooltip"]').tooltip(), $("[id^=isactinvoice_]").change(function () { an.close = 5; var t = $(this).closest("tr").data().itemId, e = this.id.split("_")[1], a = $("#isactinvoice_" + e).prop("checked"); preloader.load(), $.post("/update-invoice-status", { s: a, i: t }).done(e => { an.title = e.statuscode === an.type.success ? "Success" : "Oops", an.content = e.msg, an.alert(e.statuscode), e.statuscode === an.type.success && ($('[data-item-id="' + t + '"] [data-toggle="tooltip"]').attr("data-original-title", "Last Modified: Just Now!"), mdlA.anim(100)) }).fail(t => { an.title = "Oops", an.content = 0 === t.status ? "Internet Connection was broken" : "Server error", an.alert(an.type.failed) }).always(() => preloader.remove()) }) }).fail(t => { an.title = "Oops", an.content = 0 === t.status ? "Internet Connection was broken" : "Server error", an.alert(an.type.failed) }).always(() => preloader.remove()) }), $("#lnkVchEntry").on("click", function () { preloader.load(), $.post("/vch-Entry").done(function (t) { resultReload(t), mdlA.id = "mymodel", mdlA.content = t, mdlA.options.backdrop = "static", mdlA.alert(mdlA.size.default), $("button.close span,#mdlCancel").unbind().click(function () { mdlA.dispose() }) }).catch(function (t, e, a) { an.title = "Oops", an.content = a, an.alert(an.type.failed), an.autoClose = 2 }).fail(function (t) { 500 == t.status && (an.title = "Oops", an.content = "Server error", an.alert(an.type.failed)), 0 == t.status && (an.title = "Oops", an.content = "Internet Connection was broken", an.alert(an.type.failed)) }).always(function () { preloader.remove() }) }), bottomIcons() }); var darkAnimBtn = function (t) { var e = setInterval(function () { t.toggleClass("btn-light btn-outline-light") }, 2e3); setTimeout(function () { clearInterval(e) }, 12e3) }, checkError = function (t) { if (t.responseText.indexOf("login.js") > -1) return rel(0), !1 }, UserMyWallet = function () { $.post("/my-bal").done(t => { resultReload(t), mdlA.id = "mdlMybal", mdlA.title = "My Balance", mdlA.content = t, mdlA.options.backdrop = "static", mdlA.modal(mdlA.size.large) }).fail(t => { an.title = "Oops", an.content = 0 === t.status ? "Internet Connection was broken" : "Server error", an.alert(an.type.failed) }) }, PackageLimitBal = function () { $.post("PackageLimitbalance").done(t => { resultReload(t), mdlA.id = "mymodal", mdlA.content = t, mdlA.options.backdrop = "static", mdlA.options.keyboard = !1, mdlA.alert(mdlA.size.default), $("button.close span,#mdlCancel").click(() => mdlA.dispose()) }).fail(t => { an.title = "Oops", an.content = 0 === t.status ? "Internet Connection was broken" : "Server error", an.alert(an.type.failed) }) }; $("#changepass").click(() => ChangePass(!1)), $("#changepin").click(() => ChangePin(!1)), $("#myBalance").click(() => UserMyWallet()), $("#PackageLimitbalance").click(() => PackageLimitBal()), $("#wTowft").click(() => WalletToWalletFT()); var WalletToWalletFT = function () { preloader.load(), $.post("/w-2-w").done(t => { resultReload(t), mdlA.id = "mdlMybal", mdlA.content = t, mdlA.options.backdrop = "static", mdlA.alert(mdlA.size.default), $("button.close span,#mdlCancel").click(() => mdlA.dispose()) }).fail(t => { an.title = "Oops", an.content = 0 === t.status ? "Internet Connection was broken" : "Server error", an.alert(an.type.failed) }).always(() => { preloader.remove() }) }, AEPSStatusText = { PENDING: 1, SUCCESS: 2, FAILED: 3, ERROR: 0 }; function getKeyByValue(t, e) { return Object.keys(t).find(a => t[a] === e) } function getQueryString() { let t = {}; return "" !== document.location.search.trim() && $.each(document.location.search.substr(1).split("&"), function (e, a) { let n = a.split("="); t[n[0]] = n[1] }), t } var loadDownloasWin = function () { $.post("/download-pdf").done(t => { mdlA.id = "dWin", mdlA.content = t, mdlA.alert(mdlA.size.large), $("button.close").click(() => mdlA.dispose()) }) }; !function (t) { t.FormValidation = t.FormValidation || {}, t.FormValidation.IsFormValid = function (e = !1) { let a = !1; return e ? t('.modal [required="required"]').each(function () { let e = t(this).prop("tagName"), n = t(this); if (n.parent("div").html().indexOf("text-invalid") > -1 && (n.removeClass("invalid"), n.parent("div").find("span.text-invalid").remove()), ("SELECT" === e || "INPUT" === e) && (void 0 === n.val() || "" === n.val()) || "SELECT" === e && "0" === n.val()) return n.addClass("invalid").before(' <span class="text-danger text-monospace text-invalid"><small>(This is mendetory field)</span></small>').focus(), a = !1, !1; a = !0 }) : t('[required="required"]').each(function () { let e = t(this).prop("tagName"), n = t(this); if (n.parent("div").html().indexOf("text-invalid") > -1 && (n.removeClass("invalid"), n.parent("div").find("span.text-invalid").remove()), ("SELECT" === e || "INPUT" === e) && (void 0 === n.val() || "" === n.val()) || "SELECT" === e && "0" === n.val()) return n.addClass("invalid").before(' <span class="text-danger text-monospace text-invalid"><small>(This is mendetory field)</span></small>').focus(), a = !1, !1; a = !0 }), a } }($), function (t) { t.fn.numeric = function (e) { let a = t.extend({ numericType: "number", maxLength: 0 }, e); t(this).keypress(e => { if (0 !== a.maxLength && t(e.currentTarget).val().length > a.maxLength) return !1; let n = e.keyCode ? e.keyCode : e.which; return "number" === a.numericType ? n >= 48 && n <= 57 : "decimal" === a.numericType ? n >= 48 && n <= 57 || 46 === n && -1 === t(e.currentTarget).val().indexOf(".") : void 0 }) } }($), function (t) { t.fn.fixTableHeader = function () { let e = t(window).scrollTop(), a = t("table:last").offset().top - e, n = (t("footer").height(), `<style>.calcHeight{height: calc(100vh - ${a}px - 93px); }.fixedHeader th {background: #dcdbc1!important; position: sticky;top: -1px; z-index:9;padding:10px;}</style>`); t("head").append(n), t(this).addClass("fixedHeader"), t(this).closest("div").addClass("calcHeight") } }($); var previewImage = t => { let e = URL.createObjectURL(event.target.files[0]); $("#" + t).html(`<img src="${e}" class="img-thumbnail" style="max-height:120px"/>`) }; $('[data-widget="collapse"]').unbind().click(t => { $(t.currentTarget).find("i").toggleClass("fa-minus fa-plus"), $(t.currentTarget).parents(".card").find(".card-body").slideToggle() }), $('[data-widget="remove"]').unbind().click(t => { $(t.currentTarget).find("i").toggleClass("fa-minus fa-plus"), $(t.currentTarget).parents(".form-group").remove() }); var Q, geoLoactionDetail = { Latitude: "", Longitute: "" }; (t => { t.removeEditor = (() => { tinymce.editors.length > 0 && (tinymce.remove("textarea"), tinymce.execCommand("mceRemoveEditor", !0, "textarea")) }), t.initEditor = (t => { let e = $.extend({ customeDropdown: { enable: !1, dropdownOption: [], onselect: function (t) { } } }, t); var a = function (t, e) { if (void 0 !== t.val() && "" !== t.val()) { var a = t.get(0), n = new FormData; n.append("file", a.files[0]), $.ajax({ url: "/uploadTinyMCEImage", type: "POST", data: n, processData: !1, contentType: !1, success: function (t) { e.insertContent('<img class="content-img" src="' + t + '"/>') }, error: function (t, e, a) { t.responseText && (errors = JSON.parse(t.responseText).errors, alert("Error uploading image: " + errors.join(", ") + ". Make sure the file is an image and has extension jpg/jpeg/png.")) } }) } }; tinymce.editors.length > 0 && tinymce.remove("textarea"), tinymce.init({ selector: "textarea", height: 400, theme: "modern", plugins: ["advlist autolink lists link image charmap print preview hr anchor pagebreak", "searchreplace wordcount visualblocks visualchars code fullscreen", "insertdatetime media nonbreaking save table contextmenu directionality", "emoticons template paste textcolor colorpicker textpattern imagetools"], toolbar1: "insertfile undo redo  |fontselect  fontsizeselect forecolor backcolor bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent table imageupload | preview code | customeDropdown", setup: function (t) { !function (t) { var e = $('<input id="tinymce-uploader" type="file" name="pic" accept="image/*" style="display:none">'); $(t.getElement()).parent().append(e), t.addButton("imageupload", { text: "", icon: "image", onclick: function (t) { e.trigger("click") } }), e.on("change", function (e) { a($(this), t) }) }(t), e.customeDropdown.enable && function (t) { t.addButton("customeDropdown", { type: "listbox", text: "Select", icon: !1, onselect: e.customeDropdown.onselect, values: e.customeDropdown.dropdownOption }) }(t) }, image_advtab: !0, templates: [{ title: "Test template 1", content: "Test 1" }, { title: "Test template 2", content: "Test 2" }], content_css: ["//www.tinymce.com/css/codepen.min.css"] }) }), t.htmlEditor = (e => { let a = $.extend({ CustomeDropdown: { enable: !1, DropdownOption: [], onselect: function (t) { } } }, e); import("/lib/TinyMCE/tinymce.min.js").then(e => t.initEditor(a)).catch(t => console.log("loading error, no such module exists/n", t)) }), t.pagination = ((t, e) => { let a = RowCount / $("#ddlTop").val(); if (parseInt(a) > 0 && !e) { -1 === $("#stylePageination").index() && ($("head").append('<style id="stylePageination">\n                                            .pagination { display: flex; max-width: 50%;float: right; margin-top: 4px;}\n                                            .pagination a {color: black;float: left;padding: 3px 10px;text-decoration:none;transition: background-color .3s;}\n                                            .pagination a.active {background-color: #4CAF50; color: white; border: 1px solid #4CAF50;}\n                                            .pagination a:hover:not(.active) {background-color: #ddd;}\n                                            .pgButtons {max-height:35px;max-width:411.5px;display:inline-block;overflow:hidden;}\n                                            #prePage,#nextPage{border: 1px solid #dee2e6;padding-top: 1px;font-size: 20px;line-height: 20px;}\n                                            .page-link{line-height: 1.5;width:40px;text-align:center}</style>'), $("table").wrap('<div class="table-responsive" id="tblResponsive" style="max-height: calc(100vh - 263.5px);overflow:auto"</div>'), $("#tblResponsive").wrap('<div id="content_P0"><div>'), $("#content_P0").append('<div class="pagination"><a href = "#" class="page-link page-item" id="prePage">&laquo;</a><div class="pgButtons"></div><a href="#" class="page-link page-item" id="nextPage">&raquo;</a></div>')); let e = ""; for (var n = 0; n < a; n++) { e += `<a class="page-link ${n >= 10 ? "d-none" : ""} page-item ${0 === n ? "active" : ""}" href="#">${n + 1}</a>` } $(".pagination .pgButtons").html(e), $(".page-item").unbind().click(e => { if (isNaN($(e.currentTarget).text())) { let t = $(".page-item.active"), a = $(e.currentTarget).attr("id"); if ("nextPage" === a) { let e = t.next(".page-item"); if (e.hasClass("d-none")) { let t = e.text(); t -= 11, $(".pgButtons .page-item:eq(" + t + ")").addClass("d-none"), e.removeClass("d-none") } e.click() } if ("prePage" === a) { let e = t.text(); e >= 10 && (e = e - 10 - 1) > -1 && ($(".pgButtons .page-item:eq(" + e + ")").removeClass("d-none"), t.addClass("d-none")), t.prev(".page-item").click() } } else $(".page-item").removeClass("active"), $(e.currentTarget).addClass("active"), t($(e.currentTarget).text(), !0) }) } $("table").fixTableHeader() }), t.geoLoaction = (() => { navigator.geolocation && navigator.geolocation.getCurrentPosition(function (t) { geoLoactionDetail.Latitude = t.coords.latitude, geoLoactionDetail.Longitute = t.coords.longitude }) }), t.getFormData = (t => { var e = t.serializeArray(), a = {}; return $.map(e, function (t) { a[t.name] = "on" === t.value || t.value }), a }), t.IsFormValid = (t => new Promise((e, a) => { t || (t = { Selector: "", callBack: function () { } }); let n = !0, i = "" === t.Selector ? '[required="required"]' : t.Selector + ' [required="required"]', o = $(i).length; $(".validation-error").text("").removeClass("text-danger text-monospace error"), $(i).removeClass("invalid"), $(i).each(function (t) { let i = $(this).prop("tagName"), l = $(this); if (l.parent("div").html().indexOf("text-invalid") > -1 && l.parent("div").find("span.text-invalid").remove(), ("SELECT" === i || "INPUT" === i || "TEXTAREA" === i) && (void 0 === l.val() || "" === l.val()) || "SELECT" === i && ("0" === l.val() || void 0 === l.find("option:selected").attr("value"))) { let t = l.attr("data-error"), e = l.attr("aria-describedby"); void 0 !== t && "" !== t || (t = "This is mendetory field"), void 0 === e ? l.addClass("invalid").after('<span class="p-absolute text-danger text-monospace text-invalid"><small>' + t + "</small></span>") : (l.addClass("invalid"), $("#" + e).text(t).addClass("text-danger text-monospace validation-error")), l.focus(), n = !1 } t + 1 === o && (n ? e(n) : a("Form is not valid")) }) })), t.formatUnformattedKey = (t => { return t.match(/.{1,4}/g).join(" ") }), t.base64ToArrayBuffer = (t => { for (var e = window.atob(t), a = e.length, n = new Uint8Array(a), i = 0; i < a; i++) { var o = e.charCodeAt(i); n[i] = o } return n }) })(Q || (Q = {})); var getXmlAsString = function (t) { return "undefined" != typeof XMLSerializer ? (new window.XMLSerializer).serializeToString(t) : t.xml }; class ShowJsTimer { constructor(t, e) { this._elem = t, this._timeInMinutes = void 0 === e ? 5 : e } startTimer() { let t = new Date; t.setMinutes(t.getMinutes() + this._timeInMinutes); let e = this; e._st = setInterval(function () { let a = (new Date).getTime(), n = t - a; var i = Math.floor(n % 36e5 / 6e4), o = Math.floor(n % 6e4 / 1e3); e._elem.innerHTML = i + ":" + o, n < 0 && clearInterval(e._st) }, 1e3) } stopTimer(t) { return void 0 === this._st || (clearInterval(this._st), void 0 === t || void t()) } } var Two_FA_Win = () => { $.post("/GoogleAuthenticatorSetup").done(t => { let e = $("#googleAuthWin"); e[0] ? e.find(".modal-body").html(t) : (mdlA.id = "googleAuthWin", mdlA.title = "Google Authenticator", mdlA.content = t, mdlA.modal(mdlA.size.large)) }).fail(t => { an.title = "Oops", an.content = 0 === t.status ? "Internet Connection was broken" : "Server error", an.alert(an.type.failed) }) }, bottomIcons = () => { $("body").append('<div id="divbottomIcons" style="position: fixed;bottom:10px;right:-12px;max-width:100px;overflow:hidden;z-index:1;text-align:center"></div>').delay(5e3, function () { serverSetting.applicationSetting.IsCallbackAlert && "admin" != serverSetting.roleName.toLowerCase() && $("#divbottomIcons").append('<a class="callMe"><img src="/images/CallMe.gif" class="img-fluid rounded-circle cus-image" onclick="callMe()"/></a>'), serverSetting.applicationSetting.IsSocialAlert && "admin" != serverSetting.roleName.toLowerCase() && $.post("/GetWISection", {}, function (t) { $("#divbottomIcons").append(t) }).catch(function (t) { console.log(t) }).fail(function (t) { an.title = "Oops", an.content = 0 == t.status ? "Internet Connection was broken" : "Server error", an.alert(an.type.failed) }) }) }, callMe = () => { $(".callMe").unbind().click(function () { mdlA.id = "usrContactmodel", mdlA.content = '<div class="col-md-12">\n                                <button type="button" class="close" aria-label="Close">\n                                <span aria-hidden="true">×</span></button>\n                                <h5 class="text text-info">Call Me Request</h5><hr/>\n                                <div class="form-group">\n                                    <input type="text" placeholder="EnterMobile" class="form-control" id="txtUserContactNo" maxlength="10"/>\n                                </div>\n                                <button class="btn btn-outline-dark mr-2" id="btnSubmitCallMeReq">Submit</button>\n                                <button class="btn btn-dark" id="mdlCancel">Cancel</button>\n                            </div>', mdlA.options.backdrop = "static", mdlA.alert(mdlA.size.small); let t = $("#UINFO span.dropdown-item-text").data().itemMobile; $("#txtUserContactNo").val(t), $("button.close span,#mdlCancel").unbind().click(() => mdlA.dispose()), $("#btnSubmitCallMeReq").unbind().click(() => { let t = $("#txtUserContactNo").val(); preloader.load(), $.post("/callme", { uMob: t }).done(t => { an.title = t.statuscode == an.type.success ? "Success" : "Oops", an.content = t.msg, an.alert(an.type.success), mdlA.dispose() }).always(() => preloader.remove()) }) }) }; $(document).on("keypress", $("button:last"), function (t) { if (13 === (t.keyCode ? t.keyCode : t.which)) { "delete" !== $("button:last").text().toLowerCase() && $("button:last").click() } });